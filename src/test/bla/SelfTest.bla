/**
 * SelfTest.bla
 * Integration tests for the Babble language.
 */

Animal [
].

Duck extends: Animal [
].

SelfTest [
    testAssert [
        true assert.
        false not assert.
    ].

    testOr [
        true or:true assert.
        true or:false assert.
        false or:true assert.
        false or:false not assert.
    ].

    testAnd [
        true and:true assert.
        true and:false not assert.
        false and:true not assert.
        false and:false not assert.
    ].

    testMaths [
        (10 == 10) assert.
        (10 > 5) assert.
        (10 negate == -10) assert.
        (10 + 10 == 20) assert.
        (20 / 10 == 2) assert.
        (3 + 4 * 5 == 35) assert.
        (3 + (4 * 5) == 23) assert.
        (-10 abs == 10) assert.
    ].

    testStrings [
        ("hello" == "hello") assert.
        ("WORLD" lower == "world") assert.
        ("con", "cat", "e", "nation" == "concatenation") assert.
        ("string replacement" replace: "re" with: "dis" == "string displacement") assert.
    ].

    testSymbols [
        (#Monday asString == "#Monday") assert.
        (#Tuesday asString == "#Tuesday") assert.
        (#Monday asInt != #Tuesday asInt) assert.
        (#Monday asInt == #Monday asInt) assert.
    ].

    testTruthy [
        (true asBool) assert.
        (10 asBool) assert.
        ("hello" asBool) assert.
        (#symbol asBool) assert.
    ].

    testFalsy [
        (false asBool not) assert.
        (nil asBool not) assert.
        (0 asBool not) assert.
        ("" asBool not) assert.
    ].

    main [
        "Please use `mvn verify` to run integration tests." print.
    ].
].
